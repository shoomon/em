공간 인덱스 개념 및 MySQL vs PostGIS 비교 <br/>
1. 공간 인덱스 개념 <br/>
공간 인덱스(Spatial Index)는 위치 데이터(GPS 좌표 등)를 빠르게 검색할 수 있도록 도와주는 인덱스 구조이다. 일반적인 B-Tree 또는 Hash Index는 숫자/문자 데이터에 적합하지만, 2차원 이상의 공간 데이터를 처리하려면 별도의 공간 인덱스 기법이 필요하다.
<br/>
1.1 주요 공간 인덱스 방식
R-Tree (Rectangle Tree)

공간 데이터를 사각형(MBR, Minimum Bounding Rectangle)으로 감싸서 저장
범위 검색(특정 영역 내 객체 찾기)에 적합
MySQL, PostGIS 모두 지원
Quad-Tree

공간을 네 개의 균등한 영역으로 분할
데이터가 균등 분포될 경우 성능이 우수
Grid Index

공간을 일정한 크기의 격자로 나누어 저장
데이터 밀도에 따라 성능이 달라질 수 있음
2. MySQL vs PostGIS 비교
MySQL (InnoDB + Spatial Index)	PostGIS (PostgreSQL 확장)
지원 공간 인덱스	R-Tree (InnoDB에서 사용 가능)	R-Tree, GIST, BRIN, KNN 등
공간 함수	기본 거리 및 범위 조회 (ST_Distance, ST_Contains)	수백 개의 고급 GIS 함수 (ST_ClusterDBSCAN, ST_Intersects, ST_DWithin 등)
성능	작은 규모의 위치 데이터는 빠름, 대량 공간 연산은 상대적으로 성능 저하 가능	대규모 공간 데이터 처리에 최적화, 복잡한 공간 분석 지원
확장성	간단한 위치 검색에 적합	공간 클러스터링, 공간 분석 등에 강점
적합한 사용 사례	GPS 기반 반경 검색, 간단한 위치 데이터 저장	복잡한 공간 분석, 유사 사용자 기반 추천, 공간 군집 분석
3. 우리 프로젝트에 적합한 선택
3.1 프로젝트 주요 요구사항
GPS 기반 위치 데이터 저장 및 빠른 검색
반경 내 메시지 탐색
유사 사용자 방문 장소 추천
공간 데이터의 분석 가능성
3.2 선택 기준
단순한 위치 검색(반경 내 게시글 조회) 위주
→ MySQL (InnoDB + Spatial Index) 추천

ST_Distance_Sphere 등 기본적인 거리 계산 함수 사용 가능
빠른 속도와 간단한 운영
공간 클러스터링 및 복잡한 공간 연산(유사 사용자 추천 등)이 필요한 경우
→ PostGIS 추천

DBSCAN 클러스터링, KNN 검색 등 강력한 공간 분석 지원
유사 사용자 행동 패턴 분석 가능
3.3 최적의 전략
MVP 단계에서는 MySQL을 사용하여 반경 기반 검색을 구현
향후 유사 사용자 추천, 공간 데이터 분석이 필요해지면 PostGIS로 확장 고려