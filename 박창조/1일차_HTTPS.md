# ✅ 배경

## HTTP

> ***“Hypertext Transfer Protocol”***
> 
> 
> _웹에서 데이터를 주고받는 서버-클라이언트 모델의 프로토콜_
> 
> ***웹에서 서버와 클라이언트가 서로 데이터를 주고받기 위해 사용하는 통신 규약***
> 

***전송할 수 있는 데이터***

- HTML, TEXT
- IMAGE, 음성, 영상, 파일
- JSON, XML(API)
- 거의 모든 형태의 데이터가 전송 가능

<aside>

***❗ HTTP의 동작 방식***

사용자가 브라우저를 통해서 어떠한 서비스를 url을 통하거나 다른 것을 통해서 **_요청(request)_** 을 하면 서버에서는 해당 요청사항에 맞는 결과를 찾아서 사용자에게 **_응답(response)_** 하는 형태로 동작한다.

</aside>

### HTTP의 한계점

- HTTP는 **데이터를 암호화하지 않고 전송하기 때문에** 제3자가 데이터를 가로채고 읽을 수 있다.

# ✅ HTTPS

## HTTPS란❓

> ***“HTTP + SSL(TLS)”***
> 
> 
> “Hypertext Transfer Protocol Secure”
> 

기본 HTTP 프로토콜에 **SSL/TLS 보안 계층을 추가**하여 데이터 전송 시 **암호화, 무결성 보장, 그리고 인증** 기능을 제공

### HTTP와 HTTPS의 차이점

- **HTTP (Hypertext Transfer Protocol)**
    - 데이터를 암호화하지 않고 평문으로 전송하므로, 네트워크상에서 **제3자가 쉽게 데이터를 감청하거나 조작**할 수 있습니다.
- **HTTPS**
    - HTTP에 SSL/TLS 계층을 추가하여 **데이터가 전송되기 전에 암호화**됩니다.
    - 이를 통해 데이터의 **기밀성과 무결성이 보장**되며, 서버의 신원을 인증할 수 있습니다.
    - 결과적으로 중간자 공격(man-in-the-middle attack)이나 패킷 스니핑(sniffing) 등 다양한 보안 위협으로부터 안전합니다.

## SSL/TLS의 역할

<aside>

***SSL(Secure Sockets Layer)***

- 클라이언트와 서버 간의 데이터 전송을 암호화하여, 네트워크 상의 도청이나 변조를 방지합니다.

*주요 알고리즘*

- 상호 인증 : 클라이언트와 서버 간의 상호 인증, **공개키 기반**
- 기밀성 : **대칭키** 암호화 알고리즘을 통한 데이터 암호화
- 데이터 무결성 : **MAC(Message Authentication Code)** 기법을 이용해 데이터 변조 여부 확인

***TLS(Transport Layer Security)***

- SSL의 후속 프로토콜
- 기본적인 개념은 동일하지만 보안성이 한층 강화되어 **현재 HTTPS 보안 통신의 표준**으로 자리 잡았습니다.
</aside>

***인터넷 환경이 점차 복잡해지고 공격 기법이 발전함에 따라, 데이터 암호화와 서버 인증을 통해 안전한 통신 채널을 확보하는 것이 필수적입니다.***

### 💡 SSL/TLS 동작 방식 (Handshake 과정)

1️⃣ **Client Hello**
    - 클라이언트는 자신이 지원하는 **SSL/TLS 버전, 암호화 방식, 그리고 임의의 난수(Nonce)를 서버에 전송**합니다.
        
    
2️⃣ **Server Hello**
    - 서버는 클라이언트가 제시한 암호화 방식 중에서 하나를 선택하고, ***자신의 난수***와 함께 선택된 정보를 클라이언트에 전달합니다.
    - 또한, 서버는 자신의 신원을 증명하기 위한 ***인증서(디지털 인증서) → 서버의  공개키 포함***를 함께 보냅니다.
        
        
3️⃣ **인증서 검증**
    - 클라이언트는 서버가 보낸 인증서를 미리 내장된 신뢰할 수 있는 ***CA(인증 기관)의 공개키를 이용해 검증***합니다.
    - 인증서가 유효하다면, **서버의 공개키를 획득**하게 됩니다.
        
        
4️⃣ **Pre-Master Secret 생성 및 교환**
    - 클라이언트는 양측의 난수를 조합해 ***임시 대칭키(Pre-Master Secret)를 생성***하고, **서버의 공개키로 암호화하여 서버에 전송**합니다.
        
5️⃣ **세션 키 생성**
    - 서버는 자신의 ***개인키로 Pre-Master Secret를 복호화*** 한 후, 클라이언트와 공유한 ***난수를 바탕으로 동일한 세션 키를 생성 (대칭키)*** 합니다.
    - 이 세션 키는 이후 데이터 전송에 사용되는 대칭키로, **빠르고 효율적인 암호화를 가능** 하게 합니다.

        
6️⃣ **Handshake 완료**
    - 양측은 핸드셰이크 종료 메시지를 주고받고, 이후부터는 ***이 세션 키를 사용해 데이터를 암호화하여 안전하게 통신***합니다.

    (참고) 비대칭키가 아닌 대칭키를 이용하는 이유?
        
        - 비대칭키는 대칭키에 비해서 빠르다.
        
        - 일일히 매번 암호화 복호화 하는 것은 컴퓨터에게 무리를 주게 된다.

---

### ➕➕➕ 암호화 방식 (대칭키 vs 비대칭키(공개키) 암호화)

***공개키 암호화 (비대칭 암호화)***

- **원리**: 서로 다른 두 개의 키(공개키와 개인키)를 사용합니다.
    - 공개키는 누구에게나 공개되어 데이터를 암호화하는 데 사용되고,
    - 개인키는 소유자만 알고 있으며 암호화된 데이터를 복호화하는 데 사용됩니다.
- **특징**: 보안성이 뛰어나지만 암호화/복호화 과정이 상대적으로 느립니다.

***대칭키 암호화***

- **원리**: 하나의 키로 암호화와 복호화를 모두 수행합니다.
- **특징**: 처리 속도가 빠르며 대량의 데이터를 암호화하기에 효율적입니다.
- **보완**: 단, 키 교환 과정에서 키가 노출되면 보안에 취약할 수 있으므로, SSL/TLS에서는 공개키 암호화를 통해 안전하게 대칭키를 전달합니다.

## HTTPS 특징

***보안성***

- **기밀성**: 전송되는 데이터가 암호화되어 외부에서 내용을 알아볼 수 없습니다.
- **무결성**: 데이터가 전송 중에 변경되지 않았음을 보장합니다.
- **인증**: 서버의 신원을 디지털 인증서를 통해 확인할 수 있어, 신뢰할 수 있는 통신이 가능합니다.

***성능 및 최적화 관련 이슈***

- 초기 SSL/TLS 핸드셰이크 과정은 추가적인 오버헤드를 발생시키지만, 최근에는 세션 재사용(Session Resumption)과 HTTP/2 등 최신 기술로 최적화되고 있습니다.

***SEO 및 신뢰성 향상 효과***

- 구글 등 주요 검색 엔진은 HTTPS 사이트에 대해 순위 가산점을 부여하며, 브라우저에서도 주소창에 자물쇠 아이콘을 표시하여 사용자에게 안전함을 알립니다.

## HTTPS 장단점

### 장점

- **데이터 보호**: 전송되는 모든 정보가 암호화되어 외부 공격자에 의한 정보 탈취 위험을 크게 줄입니다.
- **무결성 보장**: 데이터가 전송 중 변경되거나 변조되는 것을 방지합니다.
- **인증 기능**: 서버 인증서를 통해 사용자가 접속한 서버가 신뢰할 수 있는지 확인할 수 있습니다.
- **신뢰도 및 SEO 개선**: HTTPS 사용 시 브라우저의 ‘안전함’ 표시와 함께 사용자 신뢰도가 증가하고, 검색 엔진 순위에도 긍정적 영향을 줍니다.

### 단점 및 고려할 점

- **초기 설정 비용 및 복잡성**: 인증서 발급 비용(무료 옵션 포함)과 설정, 관리 과정이 필요합니다.
- **성능 오버헤드**: SSL/TLS 핸드셰이크 과정에서 추가 연산이 발생하여 약간의 지연이 있을 수 있으나, 최신 기술로 점차 개선되고 있습니다.
- **잘못된 구현 시 취약점**: 올바르지 않은 인증서 설정이나 취약한 암호화 알고리즘 사용 시 오히려 보안에 문제가 발생할 수 있으므로 주의해야 합니다.

---

# ✅ HTTPS 인증서

## HTTPS 인증서 종류와 발급 과정

### SSL 인증서의 종류

> *인증서는 검증 절차의 엄격도에 따라 주로 세 가지 유형으로 구분*
> 

***Domain Validated (DV) 인증서***

- **검증 방식**: ***단순히 도메인 소유권(DCV: Domain Control Validation)만 확인***합니다.이메일, DNS 레코드, 또는 HTTP/웹 파일을 통해 소유권을 입증합니다.
- **특징**: 발급이 매우 빠르며(몇 분 내), 비용도 낮거나 **무료**(예: Let's Encrypt)입니다.
- **적용 대상**: 개인 블로그, 소규모 웹사이트 등 신원 정보 노출이 필수적이지 않은 경우
    
    

***Organization Validated (OV) 인증서***

- **검증 방식**: DV 방식에 더해, *신청 조직의 법적 존재 여부(사업자 등록증 등)를 확인*합니다.
- **특징**: 조직의 이름이 인증서에 명시되므로 방문자에게 추가 신뢰를 제공합니다.발급 소요 시간은 보통 1~3일 정도이며, DV보다 비용이 다소 높습니다.
- **적용 대상**: 기업 웹사이트, 공공기관 등 사용자의 신뢰가 중요한 경우
    
    

***Extended Validation (EV) 인증서***

- **검증 방식**: OV 인증서보다 훨씬 더 엄격한 검증 절차를 거칩니다.***조직의 법적 등록, 실체 확인, 전화 인증 등 여러 단계를 포함***합니다.
- **특징**: 인증서 발급 후 브라우저 주소창에 조직명(녹색 바 등)을 표시하여 최대 신뢰를 제공합니다.발급 시간은 보통 1~5일 정도 소요되며, 비용도 가장 높습니다.
- **적용 대상**: 금융기관, 전자상거래 사이트 등 민감한 정보를 다루는 경우

---

<aside>

***공인 인증 기관 (CA, Certificate Authority)***

- ***인증서를 발급하고, 검증 과정을 통해 웹사이트 소유자나 조직의 신뢰성을 보증***
- 브라우저와 운영체제에 미리 내장된 루트 인증서를 통해 신뢰 체인을 구성

[SSL 인증서 인증기관 발급기관  - Comodo, Thawte, DigiCert, GlobalSign 등 종류 및 점유율 - SecureSign](https://www.sslcert.co.kr/guides/kb/28)

</aside>

## 인증서 관리

- 인증서 갱신 및 만료 관리
- Let’s Encrypt를 활용한 무료 인증서 발급
- 인증서 오류 및 해결 방법

---

# Reference

[HTTPS와 SSL 인증서 - 생활코딩](https://opentutorials.org/course/228/4894)

[HTTPS 통신 원리 쉽게 이해하기 (Feat. SSL Handshake, SSL 인증서)](https://nuritech.tistory.com/25)

[HTTPS와 SSL 인증서, SSL 동작방법 · 초보몽키의 개발공부로그](https://wayhome25.github.io/cs/2018/03/11/ssl-https/)

[웹 개발자라면 알고 있어야 할 HTTP의 진화 과정 - 재그지그의 개발 블로그](https://wormwlrm.github.io/2022/09/02/Evolution-of-HTTP.html)

[[10분 테코톡] 🍭 다니의 HTTPS](https://www.youtube.com/watch?v=wPdH7lJ8jf0)
